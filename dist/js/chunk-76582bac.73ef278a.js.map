{"version":3,"sources":["webpack:///./src/views/layout/components/Tags.vue?7aef","webpack:///src/views/layout/components/Tags.vue","webpack:///./src/views/layout/components/Tags.vue?b285","webpack:///./src/views/layout/components/Tags.vue","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/views/layout/components/Tags.vue?98d2"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","index","key","class","active","isActive","path","attrs","to","_v","_s","title","on","click","$event","closeTags","command","handleCommand","size","type","slot","staticRenderFns","Tagsvue_type_script_lang_js_","created","tagsList","length","setTags","$route","computed","get","$store","state","set","newValue","commit","watch","oldValue","methods","fullPath","_this","curItem","filter","route","isIn","some","Object","common","push","meta","name","console","log","splice","components_Tagsvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","dP","__webpack_require__","f","FProto","Function","prototype","nameRE","NAME","configurable","match","e","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Tags_vue_vue_type_style_index_0_id_0e11c7b3_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Tags_vue_vue_type_style_index_0_id_0e11c7b3_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-76582bac.73ef278a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tags\"},[_c('ul',_vm._l((_vm.tagsList),function(item,index){return _c('li',{key:index,staticClass:\"tags-li\",class:{'active': _vm.isActive(item.path)}},[_c('router-link',{staticClass:\"tags-li-title\",attrs:{\"to\":item.path}},[_vm._v(_vm._s(item.title))]),_c('span',{staticClass:\"tags-li-icon\",on:{\"click\":function($event){return _vm.closeTags(index)}}},[_c('i',{staticClass:\"el-icon-close\"})])],1)}),0),_c('div',{staticClass:\"tags-close-box\"},[_c('el-dropdown',{on:{\"command\":_vm.handleCommand}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"}},[_vm._v(\"\\n        标签选项\\n        \"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\",\"size\":\"small\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"closeOther\"}},[_vm._v(\"关闭其他\")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- 打开标签的容器 -->\n  <div class=\"tags\">\n    <ul>\n      <li\n        class=\"tags-li\"\n        v-for=\"(item,index) in tagsList\"\n        :key=\"index\"\n        :class=\"{'active': isActive(item.path)}\"\n      >\n        <router-link :to=\"item.path\" class=\"tags-li-title\">{{item.title}}</router-link>\n        <span class=\"tags-li-icon\" @click=\"closeTags(index)\">\n          <i class=\"el-icon-close\"></i>\n        </span>\n      </li>\n    </ul>\n    <div class=\"tags-close-box\">\n      <el-dropdown @command=\"handleCommand\">\n        <el-button size=\"mini\" type=\"primary\">\n          标签选项\n          <i class=\"el-icon-arrow-down el-icon--right\"></i>\n        </el-button>\n        <el-dropdown-menu size=\"small\" slot=\"dropdown\">\n          <el-dropdown-item command=\"closeOther\">关闭其他</el-dropdown-item>\n          <!-- <el-dropdown-item command=\"all\">关闭所有</el-dropdown-item> -->\n        </el-dropdown-menu>\n      </el-dropdown>\n    </div>\n  </div>\n</template>\n<script>\nimport { messages } from \"@/assets/js/common.js\";\n// import { mapState } from \"vuex\";\nexport default {\n  created() {\n    //判断标签里面是否有值 有的话直接加载\n    if (this.tagsList.length == 0) {\n      this.setTags(this.$route);\n    }\n  },\n  computed: {\n    //computed 方法里面没有set方法因此不能使用mapState,需要重新定义set方法\n    tagsList: {\n      get: function() {\n        return this.$store.state.tagsList;\n      },\n      set: function(newValue) {\n        this.$store.commit(\"TAGES_LIST\", newValue);\n        // this.$store.state.tagsList = newValue;\n      }\n    }\n  },\n  watch: {\n    //监听路由变化\n    $route(newValue, oldValue) {\n      this.setTags(newValue);\n    }\n  },\n  methods: {\n    //选中的高亮\n    isActive(path) {\n      return path === this.$route.fullPath;\n    },\n    handleCommand(command) {\n      if (command == \"closeOther\") {\n        // 关闭其他标签\n        const curItem = this.tagsList.filter(item => {\n          return item.path === this.$route.fullPath;\n        });\n        this.tagsList = curItem;\n      }\n    },\n    //添加标签\n    setTags(route) {\n      let isIn = this.tagsList.some(item => {\n        //判断标签是否存在\n        return item.path === route.fullPath;\n      });\n      //不存在\n      if (!isIn) {\n        // 判断当前的标签个数\n        if (this.tagsList.length >= 10) {\n          messages(\"warning\", \"当标签大于10个，请关闭后再打开\");\n        } else {\n          this.tagsList.push({\n            title: route.meta.title,\n            path: route.fullPath,\n            name: route.name\n          });\n          //存到vuex\n          this.$store.commit(\"TAGES_LIST\", this.tagsList);\n        }\n      }\n    },\n    closeTags(index) {\n      console.log(this.tagsList.length);\n      if (this.tagsList.length == 1) {\n        messages(\"warning\", \"不可全都关闭\");\n      } else {\n        //删除当前\n        let tags = this.tagsList.splice(index, 1);\n        this.$store.commit(\"TAGES_LIST\", this.tagsList);\n      }\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.tags {\n  position: relative;\n  // height: 30px;\n  overflow: hidden;\n  background: $base-white;\n  padding-right: 120px;\n  box-shadow: 0 5px 10px #ddd;\n}\n\n.tags ul {\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n}\n\n.tags-li {\n  float: left;\n  margin: 3px 5px 2px 3px;\n  border-radius: 3px;\n  font-size: 12px;\n  overflow: hidden;\n  cursor: pointer;\n  height: 23px;\n  line-height: 23px;\n  border: 1px solid #e9eaec;\n  background: $base-white;\n  padding: 0 5px 0 12px;\n  vertical-align: middle;\n  color: $base-666;\n  -webkit-transition: all 0.3s ease-in;\n  -moz-transition: all 0.3s ease-in;\n  transition: all 0.3s ease-in;\n}\n\n.tags-li:not(.active):hover {\n  background: $base-f8;\n}\n\n.tags-li.active {\n  color: $base-white;\n  border: 1px solid $base-color;\n  background-color: $base-color;\n}\n\n.tags-li-title {\n  float: left;\n  max-width: 80px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  margin-right: 5px;\n  color: $base-666;\n}\n\n.tags-li.active .tags-li-title {\n  color: $base-white;\n}\n\n.tags-close-box {\n  position: absolute;\n  right: 0;\n  top: 0;\n  box-sizing: border-box;\n  padding-top: 1px;\n  text-align: center;\n  // width: 110px;\n  height: 30px;\n  background: $base-white;\n  box-shadow: -3px 0 15px 3px rgba(0, 0, 0, 0.1);\n  z-index: 10;\n}\n</style>\n\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tags.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tags.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tags.vue?vue&type=template&id=0e11c7b3&scoped=true&\"\nimport script from \"./Tags.vue?vue&type=script&lang=js&\"\nexport * from \"./Tags.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tags.vue?vue&type=style&index=0&id=0e11c7b3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e11c7b3\",\n  null\n  \n)\n\nexport default component.exports","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tags.vue?vue&type=style&index=0&id=0e11c7b3&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tags.vue?vue&type=style&index=0&id=0e11c7b3&lang=scss&scoped=true&\""],"sourceRoot":""}